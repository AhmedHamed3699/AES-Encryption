module ShiftRows(
input [127:0] state,
output [127:0] out    
);

wire stateMatrix[3:0][31:0];
wire outMatrix[3:0][31:0];

genvar i,j;

//changing state into matrix
for(i=3 ; i>=0 ; i=i-1)begin
    
    assign stateMatrix[3-i]=state[32*(i+1)-1 : 32*(i)];
end


//shift left function function
function [31:0]shiftLeft;
    input [31:0]in;
    shiftLeft={in[23:0] ,in[31:24]};
endfunction


//shifting rows by calling function
for(i=0 ; i<4 ; i=i+1) begin
    for(j=i ; j>=0 ; j=j-1)begin
        assign outMatrix[i]=shiftLeft(stateMatrix[i]);
    end
end

//retruning matrix into array
for(i=3 ; i>=0 ; i=i-1)begin
    
   assign out[32*(i+1)-1 : 32*(i)]=outMatrix[3-i];
end    


endmodule